repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.6.0
    hooks:
      # Os hooks abaixo ainda falham porque os executáveis não são encontrados.
      # Vamos ignorá-los por enquanto se o problema persistir:
      # - id: trailing-whitespace
      # - id: end-of-file-fixer
      # - id: check-added-large-files
      - id: check-yaml
      - id: check-json

    exclude: |
      (?x)^(
          artifacts/.*|
          models/production_model.pkl|
          models/production_shap_explainer.pkl|
          models/model.pkl|
          data/.*\.csv|
          .env$|
          .env.example$|
          poetry.lock$|
          Dockerfile$|
          # Adicione outros arquivos/pastas gerados que o pre-commit não deve tocar
      )$

  - repo: https://github.com/psf/black
    rev: 24.4.2
    hooks:
      - id: black
        language_version: python3.10
    exclude: |
      (?x)^(
          artifacts/.*|
          models/production_model.pkl|
          models/production_shap_explainer.pkl|
          models/model.pkl|
          data/.*\.csv|
          .env$|
          .env.example$|
          poetry.lock$|
          Dockerfile$|
      )$

  - repo: https://github.com/PyCQA/isort
    rev: 5.13.2
    hooks:
      - id: isort
        name: isort (Python)
        args: ["--profile", "black"]
    exclude: |
      (?x)^(
          artifacts/.*|
          models/production_model.pkl|
          models/production_shap_explainer.pkl|
          models/model.pkl|
          data/.*\.csv|
          .env$|
          .env.example$|
          poetry.lock$|
          Dockerfile$|
      )$

  - repo: https://github.com/PyCQA/flake8
    rev: 7.0.0
    hooks:
      - id: flake8
        # args: ["--max-line-length=120"] # Se você tem essa regra no seu flake8
    exclude: |
      (?x)^(
          artifacts/.*|
          models/production_model.pkl|
          models/production_shap_explainer.pkl|
          models/model.pkl|
          data/.*\.csv|
          .env$|
          .env.example$|
          poetry.lock$|
          Dockerfile$|
      )$